<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trắc Nghiệm Quản Trị Mạng - Chương 1</title>
    <style>
        :root {
            --primary: #461a42; /* Màu tím Quizizz */
            --secondary: #2d9da6;
            --correct: #00c985;
            --wrong: #ff455f;
            --text: #333;
            --light: #f4f4f4;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            overflow: hidden;
        }
        .header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        .progress-bar {
            height: 6px;
            background-color: rgba(255,255,255,0.3);
            margin-top: 10px;
            border-radius: 3px;
        }
        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            width: 0%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        .content {
            padding: 30px;
        }
        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 25px;
            line-height: 1.5;
        }
        .options-grid {
            display: grid;
            gap: 15px;
        }
        .option-btn {
            background-color: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            text-align: left;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #f9f9f9;
            border-color: var(--secondary);
        }
        .option-btn.correct {
            background-color: var(--correct);
            color: white;
            border-color: var(--correct);
        }
        .option-btn.wrong {
            background-color: var(--wrong);
            color: white;
            border-color: var(--wrong);
        }
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f8f5;
            border-left: 5px solid var(--secondary);
            border-radius: 4px;
            display: none;
        }
        .footer {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .btn {
            padding: 10px 25px;
            border-radius: 5px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
        }
        .btn-next {
            background-color: var(--secondary);
            color: white;
            display: none; /* Ẩn cho đến khi chọn đáp án */
        }
        .score-board {
            text-align: center;
            padding: 50px;
            display: none;
        }
        .score-number {
            font-size: 4rem;
            color: var(--primary);
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container" id="quiz-box">
    <div class="header">
        <h2 style="margin:0;">Ôn Tập Quản Trị Mạng - Chương 1</h2>
        <div style="margin-top: 10px; font-size: 0.9rem;">Câu hỏi: <span id="current-question">1</span> / <span id="total-questions">75</span></div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
    </div>

    <div class="content">
        <div class="question-text" id="question-content">Đang tải dữ liệu...</div>
        <div class="options-grid" id="options-container">
            </div>
        <div class="explanation" id="explanation">
            <strong>Giải thích:</strong> <span id="explanation-text"></span>
        </div>
    </div>

    <div class="footer">
        <div id="score-live">Điểm: 0</div>
        <div>
            <button class="btn btn-prev" id="prev-btn" onclick="prevQuestion()" style="display:none; margin-right: 10px;">⬅ Câu trước</button>
            <button class="btn btn-next" id="next-btn" onclick="nextQuestion()">Câu tiếp theo ➜</button>
        </div>
    </div>
</div>

<div class="container score-board" id="result-box">
    <h2>Hoàn thành bài thi!</h2>
    <p>Số điểm của bạn là:</p>
    <div class="score-number" id="final-score">0/75</div>
    <p id="feedback-text"></p>
    <button class="btn btn-next" style="display:inline-block;" onclick="location.reload()">Làm lại bài thi</button>
</div>

<script>
    // Dữ liệu 75 câu hỏi được tạo từ phân tích tài liệu trước đó
    const quizData = [
        // PHẦN 1: TỔNG QUAN
        { q: "Các thành phần cơ bản của một mạng máy tính bao gồm những gì?", a: ["Máy tính, dây cáp, Windows", "Thiết bị đầu cuối, Thiết bị trung gian, Phương tiện truyền dẫn, Giao thức", "Router, Switch, Hub, Internet", "Google, Facebook, Server, Client"], correct: 1, explain: "Mạng bao gồm thiết bị đầu cuối (End Devices), thiết bị trung gian, phương tiện truyền dẫn và Giao thức." },
        { q: "Thiết bị nào hoạt động dựa trên địa chỉ IP để định tuyến gói tin (Layer 3)?", a: ["Hub", "Switch", "Router", "Repeater"], correct: 2, explain: "Router kết nối các mạng và chọn đường dựa trên địa chỉ IP (Layer 3)." },
        { q: "Mô hình OSI gồm bao nhiêu lớp?", a: ["4 lớp", "5 lớp", "6 lớp", "7 lớp"], correct: 3, explain: "OSI có 7 lớp: Application, Presentation, Session, Transport, Network, Data Link, Physical." },
        { q: "Mô hình TCP/IP gồm bao nhiêu lớp?", a: ["4 lớp", "5 lớp", "7 lớp", "3 lớp"], correct: 0, explain: "TCP/IP gồm 4 lớp: Application, Transport, Internet, Network Access." },
        { q: "Chức năng của lớp Transport là gì?", a: ["Định tuyến gói tin", "Đảm bảo vận chuyển dữ liệu tin cậy/không tin cậy giữa các tiến trình", "Truyền bit vật lý", "Hiển thị dữ liệu"], correct: 1, explain: "Lớp Transport (TCP/UDP) quản lý các cuộc hội thoại và độ tin cậy." },
        { q: "Giao thức nào quy ước về địa chỉ tầng mạng và cấu trúc gói dữ liệu?", a: ["TCP", "IP", "UDP", "Ethernet"], correct: 1, explain: "IP (Internet Protocol) hoạt động ở tầng Internet, chịu trách nhiệm định địa chỉ và đóng gói." },
        { q: "Giao thức nào thông báo lỗi truyền dữ liệu hoặc kiểm tra kết nối (ping)?", a: ["TCP", "ARP", "ICMP", "DHCP"], correct: 2, explain: "ICMP (Internet Control Message Protocol) dùng để báo lỗi và kiểm tra (ping)." },
        { q: "Giao thức nào xác định địa chỉ MAC khi đã biết địa chỉ IP?", a: ["RARP", "DNS", "ARP", "DHCP"], correct: 2, explain: "ARP (Address Resolution Protocol) phân giải IP sang MAC." },
        { q: "Phương tiện truyền dẫn mạng chia làm mấy loại chính?", a: ["Cáp đồng và quang", "Có dây (Guided) và Không dây (Unguided)", "LAN và WAN", "Nội bộ và Quốc tế"], correct: 1, explain: "Bao gồm hữu tuyến (cáp) và vô tuyến (sóng)." },
        { q: "Đặc điểm của cáp xoắn đôi (Twisted Pair)?", a: ["Lõi thủy tinh", "Lõi đồng trục", "Các cặp dây đồng xoắn vào nhau giảm nhiễu", "Sóng vô tuyến"], correct: 2, explain: "Cáp xoắn đôi gồm các cặp dây xoắn để loại bỏ nhiễu chéo." },
        { q: "Cáp Console dùng để làm gì?", a: ["Nối mạng Internet", "Cấu hình trực tiếp thiết bị mạng (Router/Switch)", "Nối 2 Switch", "Truyền dữ liệu"], correct: 1, explain: "Cáp console nối cổng COM/USB PC vào cổng Console thiết bị để quản trị." },
        { q: "Kết nối PC với Switch dùng cáp gì?", a: ["Cáp chéo", "Cáp thẳng", "Cáp Console", "Cáp quang"], correct: 1, explain: "Thiết bị khác nhóm chức năng (PC-Switch) dùng cáp thẳng." },
        { q: "Kết nối Switch với Router dùng cáp gì?", a: ["Cáp chéo", "Cáp thẳng", "Cáp Console", "Cáp Rollover"], correct: 1, explain: "Switch và Router khác nhóm, dùng cáp thẳng." },
        { q: "Cáp đồng trục thường dùng đầu nối nào?", a: ["RJ-45", "RJ-11", "BNC hoặc đầu nối F", "SC/LC"], correct: 2, explain: "Cáp đồng trục dùng BNC, N type hoặc F type." },
        { q: "Cáp quang có ưu điểm gì?", a: ["Rẻ", "Truyền xa, tốc độ cao, miễn nhiễm nhiễu điện từ", "Dễ lắp", "Dùng điện"], correct: 1, explain: "Cáp quang dùng ánh sáng, không bị nhiễu điện và truyền xa." },
        
        // PHẦN 2: ETHERNET & MAC/IP
        { q: "Địa chỉ MAC dài bao nhiêu bit?", a: ["32 bit", "48 bit", "64 bit", "128 bit"], correct: 1, explain: "MAC dài 48 bit (6 byte)." },
        { q: "3 byte đầu của địa chỉ MAC là gì?", a: ["Số thứ tự", "Mã nhà sản xuất (OUI)", "Vị trí", "Loại card"], correct: 1, explain: "24 bit đầu là mã định danh tổ chức (OUI)." },
        { q: "Tốc độ Ethernet cơ bản?", a: ["10 Mbps", "100 Mbps", "1000 Mbps", "10 Gbps"], correct: 0, explain: "Ethernet truyền thống là 10Mbps." },
        { q: "Tốc độ Fast Ethernet?", a: ["10 Mbps", "100 Mbps", "1000 Mbps", "10 Gbps"], correct: 1, explain: "Fast Ethernet là 100Mbps." },
        { q: "Tốc độ Gigabit Ethernet?", a: ["100 Mbps", "1000 Mbps (1 Gbps)", "10 Gbps", "40 Gbps"], correct: 1, explain: "Gigabit là 1000Mbps." },
        { q: "Chuẩn 10BASE-F dùng cáp gì?", a: ["Đồng trục", "Xoắn đôi", "Quang", "Không dây"], correct: 2, explain: "F là Fiber (Quang)." },
        { q: "Tốc độ chuẩn 100BASE-TX?", a: ["10 Mbps", "100 Mbps", "1000 Mbps", "100 Gbps"], correct: 1, explain: "100BASE-TX là Fast Ethernet trên cáp đồng." },
        { q: "Tốc độ chuẩn 1000BASE-T?", a: ["100 Mbps", "1000 Mbps", "10 Gbps", "1 Mbps"], correct: 1, explain: "1000BASE-T là Gigabit Ethernet trên cáp đồng." },
        { q: "Địa chỉ IP được gán ở tầng nào?", a: ["Network Access", "Internet", "Transport", "Application"], correct: 1, explain: "IP hoạt động tại tầng Internet (TCP/IP) hoặc Network (OSI)." },
        { q: "IPv4 có mấy lớp?", a: ["A, B, C", "A, B, C, D", "A, B, C, D, E", "1, 2, 3, 4, 5"], correct: 2, explain: "5 lớp: A, B, C, D (Multicast), E (Dự phòng)." },
        { q: "Lớp C dành bao nhiêu bit cho Network ID?", a: ["8 bit", "16 bit", "24 bit", "32 bit"], correct: 2, explain: "Lớp C mặc định /24 (24 bit Network)." },
        { q: "Lớp A hỗ trợ tối đa bao nhiêu host/mạng?", a: ["254", "65.534", "16.777.214", "2 triệu"], correct: 2, explain: "2^24 - 2 = 16.777.214 host." },
        { q: "Lớp B hỗ trợ tối đa bao nhiêu host/mạng?", a: ["254", "65.534", "16.384", "128"], correct: 1, explain: "2^16 - 2 = 65.534 host." },
        { q: "Số lượng mạng tối đa của lớp C?", a: ["128", "16.384", "2.097.152", "254"], correct: 2, explain: "2^21 mạng." },
        { q: "Lớp nào cung cấp nhiều host nhất?", a: ["Lớp A", "Lớp B", "Lớp C", "Lớp D"], correct: 0, explain: "Lớp A có 24 bit cho phần Host." },
        { q: "Địa chỉ Loopback là?", a: ["192.168.1.1", "10.0.0.1", "127.0.0.1", "169.254.0.1"], correct: 2, explain: "Dải 127.0.0.0/8 là Loopback." },
        { q: "Prefix length /24 tương ứng Subnet Mask nào?", a: ["255.0.0.0", "255.255.0.0", "255.255.255.0", "255.255.255.255"], correct: 2, explain: "/24 là 24 bit 1 (255.255.255.0)." },

        // PHẦN 3: SUBNETTING
        { q: "Trong 203.178.142.0/24, địa chỉ Broadcast là?", a: ["...142.0", "...142.1", "...142.254", "203.178.142.255"], correct: 3, explain: "Broadcast là tất cả bit host = 1 (ở đây là .255)." },
        { q: "Subnet mask của 192.168.5.12/25?", a: ["...255.0", "...255.128", "...255.192", "...255.224"], correct: 1, explain: "/25 = 128 (10000000)." },
        { q: "Subnet mask nhị phân của /20?", a: ["11111111.11111111.0...", "11111111.11111111.11110000.00000000", "11111111.11111111.11111111.0...", "Sai hết"], correct: 1, explain: "20 bit 1 = 8 + 8 + 4 (11110000)." },
        { q: "IP 192.168.1.70/28 thuộc mạng nào?", a: ["...1.0", "...1.32", "...1.48", "192.168.1.64"], correct: 3, explain: "Bước nhảy 16. Các mạng: 0, 16, 32, 48, 64, 80. 70 thuộc 64." },
        { q: "Địa chỉ Broadcast của 133.27.4.128/25?", a: ["...4.128", "...4.254", "133.27.4.255", "...5.0"], correct: 2, explain: "Mạng từ .128 đến .255 (/25 chia đôi lớp C)." },
        { q: "Mạng /24 chia 8 subnet. Số host tối đa mỗi subnet?", a: ["30", "32", "14", "62"], correct: 0, explain: "Mượn 3 bit (8 subnet). Còn 5 bit host. 2^5 - 2 = 30." },
        { q: "Lớp B mượn 5 bit host. Subnet Mask mới?", a: ["...224.0", "...240.0", "255.255.248.0", "...252.0"], correct: 2, explain: "/16 + 5 = /21. 5 bit 1 = 248." },
        { q: "Chia 69.121.96.0/19 thành 4 mạng con. Mask?", a: ["/20", "/21", "/22", "/23"], correct: 1, explain: "Chia 4 = mượn 2 bit. /19 + 2 = /21." },
        { q: "Chia 139.63.0.0/17 thành 4 mạng. Mạng đầu tiên?", a: ["139.63.0.0/19", "139.63.32.0/19", "139.63.64.0/19", "139.63.0.0/18"], correct: 0, explain: "Mạng đầu tiên luôn trùng IP gốc, prefix tăng 2." },
        { q: "198.119.40.64/26 chia 4 subnet. Bước nhảy?", a: ["32", "16", "8", "64"], correct: 1, explain: "/26 chia 4 (mượn 2) = /28. Còn 4 bit host. 2^4 = 16." },
        { q: "Kỹ thuật chia mạng con kích thước không đều gọi là?", a: "CIDR", b: "VLSM", c: "NAT", d: "DHCP", correct: 1, explain: "VLSM (Variable Length Subnet Mask)." },

        // PHẦN 4: IPV6
        { q: "IPv6 dài bao nhiêu bit?", a: ["32", "64", "128", "256"], correct: 2, explain: "IPv6 dài 128 bit." },
        { q: "Rút gọn đúng của 2001:0DB8:0000:0000:0000:0000:0000:0001?", a: ["2001:DB8:0:0:0:0:0:1", "2001:DB8::1", "2001:DB8:::1", "2001:DB8:0::1"], correct: 1, explain: "Thay chuỗi 0 liên tiếp bằng ::." },
        { q: "Prefix khuyến nghị cho LAN IPv6?", a: ["/32", "/48", "/64", "/128"], correct: 2, explain: "Chuẩn /64 cho LAN và SLAAC." },
        { q: "Loại địa chỉ nào KHÔNG có trong IPv6?", a: ["Unicast", "Broadcast", "Multicast", "Anycast"], correct: 1, explain: "IPv6 thay Broadcast bằng Multicast." },
        { q: "IPv6 bắt đầu bằng FE80 là loại gì?", a: ["Global Unicast", "Unique Local", "Link-Local", "Multicast"], correct: 2, explain: "Link-Local luôn là FE80::/10." },
        { q: "Global Unicast (GUA) bắt đầu bằng?", a: ["001 (2000::/3)", "FE80", "FC00", "FF00"], correct: 0, explain: "GUA bắt đầu bằng 2 hoặc 3 (2000::/3)." },
        { q: "EUI-64 chèn gì vào giữa MAC?", a: ["FFFF", "FFFE", "FEFE", "ABCD"], correct: 1, explain: "Chèn FFFE và đảo bit 7." },
        { q: "MAC 54-A0... EUI-64 sẽ có đuôi?", a: ["54A0...", "56A0:50FF:FEA8:E672", "52A0...", "Không đổi"], correct: 1, explain: "Đảo bit 7 của 54 (01010100) -> 56 (01010110)." },

        // PHẦN 5: CẤU HÌNH CISCO
        { q: "Có mấy cách cấp IP cho máy trạm?", a: ["1", "2 (Tĩnh/Động)", "3", "4"], correct: 1, explain: "Static và DHCP." },
        { q: "Thành phần lưu startup-config?", a: ["RAM", "ROM", "Flash", "NVRAM"], correct: 3, explain: "NVRAM lưu cấu hình khởi động." },
        { q: "Phần mềm kết nối console?", a: ["Photoshop", "HyperTerminal/PuTTY", "Word", "Excel"], correct: 1, explain: "PuTTY, SecureCRT..." },
        { q: "Dấu nhắc `Router#` là chế độ nào?", a: ["User", "Privileged EXEC", "Global", "Interface"], correct: 1, explain: "# là Privileged, > là User." },
        { q: "Lệnh đặt tên Router?", a: ["name", "set name", "hostname", "router-name"], correct: 2, explain: "hostname [Tên]." },
        { q: "Lệnh đặt tên Switch?", a: ["hostname", "Không đặt được", "switchname", "Tùy"], correct: 0, explain: "Giống Router: hostname." },
        { q: "Lệnh cấu hình banner?", a: ["message", "banner motd 'Nội dung'", "set banner", "show banner"], correct: 1, explain: "banner motd." },
        { q: "Banner MOTD dùng để?", a: ["Chào", "Cảnh báo pháp lý", "Hiện giờ", "Quảng cáo"], correct: 1, explain: "Cảnh báo truy cập trái phép." },
        { q: "Lệnh đặt pass Console?", a: ["line vty", "line console 0 -> password", "enable pass", "service pass"], correct: 1, explain: "Vào line console 0 đặt pass." },
        { q: "Lệnh đặt pass mã hóa cho Privileged?", a: ["enable password", "enable secret", "service pass", "line con"], correct: 1, explain: "enable secret (mã hóa MD5)." },
        { q: "Cấu hình Telnet vào line nào?", a: ["console", "line vty 0 4", "aux", "interface"], correct: 1, explain: "VTY cho truy cập từ xa." },
        { q: "Pass User EXEC bảo vệ gì?", a: ["Vào Privileged", "Truy cập ban đầu (Console)", "Telnet", "Cả B,C"], correct: 1, explain: "Bảo vệ cổng vật lý console." },
        { q: "Enable secret bảo vệ gì?", a: ["User >", "Chuyển từ User > sang Privileged #", "Global", "Telnet"], correct: 1, explain: "Bảo vệ chế độ đặc quyền." },
        { q: "Lệnh `login` để làm gì?", a: ["Đăng nhập", "Kích hoạt kiểm tra mật khẩu", "Đặt tên", "Thoát"], correct: 1, explain: "Yêu cầu nhập pass khi kết nối." },
        { q: "Lệnh mã hóa tất cả pass plain-text?", a: ["enable secret", "encrypt all", "service password-encryption", "no ip domain"], correct: 2, explain: "Mã hóa pass trong file config." },
        { q: "Lệnh gán IP 192.168.10.1/24 cho Fa0/0?", a: ["ip address 192.168.10.1 255.255.255.0", "ip address /24", "ip add ... 24", "set ip ..."], correct: 0, explain: "ip address [IP] [Mask]." },
        { q: "Lệnh gán IPv6 2001::1/64?", a: ["ip address...", "ipv6 address 2001::1/64", "ipv6 ... 64", "set ipv6"], correct: 1, explain: "ipv6 address [IPv6]/[Prefix]." },
        { q: "Lệnh lưu cấu hình?", a: ["copy start run", "copy running-config startup-config", "save", "write ram"], correct: 1, explain: "Copy từ RAM (run) sang NVRAM (start)." },
        { q: "Lệnh xem bộ nhớ Flash?", a: ["show memory", "show flash", "dir flash", "show nvram"], correct: 1, explain: "show flash." },
        { q: "Lệnh xem thông tin phần cứng/IOS?", a: ["show hardware", "show ios", "show version", "show info"], correct: 2, explain: "show version." },
        { q: "Lệnh xem bảng ARP?", a: ["show mac", "show ip arp", "show arp", "arp -a"], correct: 2, explain: "show arp." },
        { q: "Lệnh xem cấu hình đang chạy?", a: ["show startup", "show running-config", "show config", "view"], correct: 1, explain: "running-config (RAM)." },
        { q: "Lệnh xem cấu hình đã lưu?", a: ["show startup-config", "show run", "show flash", "show mem"], correct: 0, explain: "startup-config (NVRAM)." },
        { q: "Lệnh kiểm tra sơ lược các cổng?", a: ["show ip route", "show interfaces", "show ip interface brief", "ping"], correct: 2, explain: "Tóm tắt trạng thái cổng." }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let userAnswers = new Array(quizData.length).fill(null);

    // Load elements
    const questionEl = document.getElementById("question-content");
    const optionsEl = document.getElementById("options-container");
    const explanationEl = document.getElementById("explanation");
    const explanationTextEl = document.getElementById("explanation-text");
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    const currentQEl = document.getElementById("current-question");
    const totalQEl = document.getElementById("total-questions");
    const progressEl = document.getElementById("progress");
    const scoreLiveEl = document.getElementById("score-live");
    
    // Init
    totalQEl.innerText = quizData.length;

    function loadQuestion() {
        const currentData = quizData[currentQuestionIndex];
        questionEl.innerText = `Câu ${currentQuestionIndex + 1}: ${currentData.q}`;
        currentQEl.innerText = currentQuestionIndex + 1;
        
        // Update progress bar
        const progressPercent = ((currentQuestionIndex) / quizData.length) * 100;
        progressEl.style.width = `${progressPercent}%`;

        // Clear previous state
        optionsEl.innerHTML = "";
        explanationEl.style.display = "none";
        nextBtn.style.display = "none";
        prevBtn.style.display = currentQuestionIndex > 0 ? "inline-block" : "none";

        // Create options
        currentData.a.forEach((option, index) => {
            const btn = document.createElement("button");
            btn.classList.add("option-btn");
            btn.innerText = option;
            btn.onclick = () => checkAnswer(index);
            optionsEl.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex) {
        const currentData = quizData[currentQuestionIndex];
        const buttons = optionsEl.querySelectorAll(".option-btn");

        // Disable all buttons
        buttons.forEach(btn => btn.disabled = true);

        // Highlight correct and wrong
        if (selectedIndex === currentData.correct) {
            buttons[selectedIndex].classList.add("correct");
            score++;
            scoreLiveEl.innerText = `Điểm: ${score}`;
        } else {
            buttons[selectedIndex].classList.add("wrong");
            buttons[currentData.correct].classList.add("correct");
        }

        // Show explanation
        explanationTextEl.innerText = currentData.explain;
        explanationEl.style.display = "block";
        
        // Show next button
        nextBtn.style.display = "block";
        prevBtn.style.display = currentQuestionIndex > 0 ? "inline-block" : "none";
        
        // Scroll to bottom
        setTimeout(() => {
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }, 100);
    }

    function prevQuestion() {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            loadQuestion();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < quizData.length) {
            loadQuestion();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById("quiz-box").style.display = "none";
        document.getElementById("result-box").style.display = "block";
        document.getElementById("final-score").innerText = `${score}/${quizData.length}`;
        
        let feedback = "";
        const percentage = (score / quizData.length) * 100;
        if (percentage >= 90) feedback = "Xuất sắc! Bạn đã nắm chắc kiến thức Quản trị mạng.";
        else if (percentage >= 70) feedback = "Khá tốt! Hãy ôn lại một vài phần nhỏ.";
        else if (percentage >= 50) feedback = "Đạt. Cần cố gắng hơn.";
        else feedback = "Chưa đạt. Hãy xem lại tài liệu Chương 1 nhé!";
        
        document.getElementById("feedback-text").innerText = feedback;
    }

    // Start
    loadQuestion();

</script>

</body>
</html>